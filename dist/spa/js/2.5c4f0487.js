(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{1184:function(t,e,n){},5776:function(t,e,n){},"5c17":function(t,e,n){},"8b09":function(t,e,n){"use strict";var a=n("5c17"),o=n.n(a);o.a},"8b24":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("BotController")],1)},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullscreen",class:{state:t.state}},[n("Spinner",{attrs:{active:"loading"==t.state}}),t.isLoggedIn?n("div",{key:t.state},[t._v("\n    Hej med dig\n  ")]):t._e(),t.isLoggedIn?t._e():n("div",{staticClass:"form supercenter"},[n("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[n("h2",[t._v("\n            Enter your API Key\n          ")]),n("p",[t._v("\n            An API Key can be obtained from the official Telegram "),n("a",{attrs:{href:"https://t.me/botfather",target:"_blank"}},[t._v("@botfather")])]),n("q-input",{attrs:{filled:"",label:"API key *",hint:"Your telegram bot API key","lazy-rules":"",rules:[function(t){return!!t||"Please type your key here"}]},model:{value:t.apikey_input,callback:function(e){t.apikey_input=e},expression:"apikey_input"}}),n("q-toggle",{attrs:{label:"Allow this service to use your key for additional functionality"},on:{input:function(e){return t.$store.commit("localBot/setAllowInternal",t.accept)}},model:{value:t.accept,callback:function(e){t.accept=e},expression:"accept"}}),n("div",[n("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),n("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Back",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1)},s=[],c=n("ded3"),r=n.n(c),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loadContainer",class:{active:t.active}},[n("div",{staticClass:"loader"})])},u=[],p={name:"Spinner",props:["active"],data:function(){return{}},computed:{},mounted:function(){},methods:{}},d=p,f=(n("f7d4"),n("2877")),m=Object(f["a"])(d,l,u,!1,null,"6dd83a7c",null),h=m.exports,b=n("2f62"),g={name:"BotController",props:["serviceDomain"],components:{Spinner:h},data:function(){return{state:"loading",apikey_input:"",accept:!1}},computed:{isLoggedIn:function(){return this.$store.state.localBot.isLoggedIn}},mounted:function(){var t=this.$store.state.localBot.apikey;this.accept=this.$store.state.localBot.allowInternal||"false",this.accept=JSON.parse(this.accept),t?(this.state="loading",this.fetchInitialBotData(t)):this.state="initial"},methods:r()(r()({},Object(b["b"])("localBot",["externalQuery"])),{},{fetchInitialBotData:function(t){var e=this;this.externalQuery({method:"getMe",save:"botGetMe",apikey:t||this.apikey_input}).then((function(t){t.data.ok&&(e.$store.commit("localBot/setLoggedIn"),e.state="ready")})).catch((function(t){e.$q.notify({type:"negative",message:"API key did not work",position:"bottom-right"}),console.log(t),e.state="initial"}))},onSubmit:function(){this.state="loading",this.fetchInitialBotData()},onReset:function(){window.location.href=""}})},v=g,y=(n("fcd9"),n("0378")),k=n("27f9"),_=n("9564"),I=n("9c40"),B=n("eebe"),w=n.n(B),C=Object(f["a"])(v,i,s,!1,null,"ee547c70",null),q=C.exports;w()(C,"components",{QForm:y["a"],QInput:k["a"],QToggle:_["a"],QBtn:I["a"]});var $={name:"PageIndex",data:function(){return{}},computed:Object(b["d"])(["localBot"]),mounted:function(){},components:{BotController:q},methods:{}},x=$,A=(n("8b09"),n("9989")),P=Object(f["a"])(x,a,o,!1,null,"558fbf3d",null);e["default"]=P.exports;w()(P,"components",{QPage:A["a"]})},f7d4:function(t,e,n){"use strict";var a=n("5776"),o=n.n(a);o.a},fcd9:function(t,e,n){"use strict";var a=n("1184"),o=n.n(a);o.a}}]);