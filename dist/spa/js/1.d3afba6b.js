(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"089c":function(t,e,n){"use strict";var a=n("181a"),o=n.n(a);o.a},"16f2":function(t,e,n){},"181a":function(t,e,n){},"1f3d":function(t,e,n){},"5c17":function(t,e,n){},"5d85":function(t,e,n){"use strict";var a=n("1f3d"),o=n.n(a);o.a},"80d9":function(t,e,n){},"8b09":function(t,e,n){"use strict";var a=n("5c17"),o=n.n(a);o.a},"8b24":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"DashboardIndex",(function(){return q})),n.d(a,"AboutIndex",(function(){return K})),n.d(a,"SettingsIndex",(function(){return z}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("BotController")],1)},r=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fullscreen",class:{state:t.state}},[n("Spinner",{attrs:{active:"loading"==t.state}}),t.isLoggedIn?n("div",{key:t.state},["/app"==t.$route.path?n("DashboardPage",{attrs:{page:"dashboard"}}):t._e(),"/app/chat"==t.$route.path?n("DashboardPage",{attrs:{page:"chat"}}):t._e(),"/app/statistics"==t.$route.path?n("DashboardPage",{attrs:{page:"statistics"}}):t._e(),"/app/modules"==t.$route.path?n("DashboardPage",{attrs:{page:"modules"}}):t._e(),"/app/settings"==t.$route.path?n("DashboardPage",{attrs:{page:"settings"}}):t._e(),"/app/about"==t.$route.path?n("DashboardPage",{attrs:{page:"about"}}):t._e()],1):t._e(),t.isLoggedIn?t._e():n("div",{staticClass:"form supercenter"},[n("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[n("h2",[t._v("\n            Enter your API Key\n          ")]),n("p",[t._v("\n            An API Key can be obtained from the official Telegram "),n("a",{attrs:{href:"https://t.me/botfather",target:"_blank"}},[t._v("@botfather")])]),n("q-input",{attrs:{dark:"",filled:"",label:"API key *",hint:"Your telegram bot API key","lazy-rules":"",rules:[function(t){return!!t||"Please type your key here"}]},model:{value:t.apikey_input,callback:function(e){t.apikey_input=e},expression:"apikey_input"}}),n("q-toggle",{attrs:{unselectable:"",label:"Allow this service to use your key for additional functionality"},on:{input:function(e){return t.$store.commit("localBot/setAllowInternal",t.accept)}},model:{value:t.accept,callback:function(e){t.accept=e},expression:"accept"}}),n("div",[n("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),n("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Back",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1)},s=[],i=n("ded3"),c=n.n(i),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loadContainer",class:{active:t.active}},[n("div",{staticClass:"loader"})])},d=[],p={name:"Spinner",props:["active"],data:function(){return{}},computed:{},mounted:function(){},methods:{}},f=p,m=(n("5d85"),n("2877")),h=Object(m["a"])(f,u,d,!1,null,"855b097c",null),b=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"pageTransition"}},[t.primed?n(t.componentName,{tag:"component",attrs:{allowKey:t.allowInternally}}):t._e(),t.primed?t._e():n("div",[t._v("\n      Loading your awesome "+t._s(t.page)+" content...\n    ")])],1)],1)},v=[],y=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-toggle",{attrs:{unselectable:"",value:t.allowInternally,label:"Allow this service to use your key for additional functionality"},on:{input:t.allowInternalChanged}})}),_=[],I={name:"AllowInternalToggle",data:function(){return{allowInternally:!1}},watch:{"$store.state.localBot.allowInternal":function(t){this.allowInternally=t}},mounted:function(){this.allowInternally=JSON.parse(this.$store.state.localBot.allowInternal)},methods:{allowInternalChanged:function(t){this.$store.commit("localBot/setAllowInternal",t)}},filters:{}},w=I,k=n("9564"),$=n("eebe"),x=n.n($),A=Object(m["a"])(w,y,_,!1,null,"dff29a42",null),B=A.exports;x()(A,"components",{QToggle:k["a"]});var P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Dashboard Index")])},D=[],C={name:"DashboardIndex",data:function(){return{}},mounted:function(){},methods:{},filters:{}},O=C,j=Object(m["a"])(O,P,D,!1,null,"27c9f944",null),q=j.exports,E=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[n("b",[t._v("A project by Tobias Andersen")])]),n("p",[t._v("\n    For more information and contact, please refer to tobias@andersen.work or visit "),n("a",{attrs:{href:"https://andersen.work",target:"_blank"}},[t._v("andersen.work")])]),n("p",[t._v("Version 0.4")])])}],T={name:"AboutIndex",data:function(){return{}},mounted:function(){},methods:{},filters:{}},Q=T,L=Object(m["a"])(Q,E,S,!1,null,"4663570b",null),K=L.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.allowKey?t._e():n("p",[t._v("Most features are "),n("b",[t._v("locked")]),t._v(" without allowing your API key to be used by our service")]),t.allowKey?n("p",[t._v("Thanks for allowing this service to use your API key! Let's grow your audience today!")]):t._e(),n("InternalToggle")],1)},J=[],M={name:"AboutIndex",data:function(){return{}},props:["allowKey"],components:{InternalToggle:B},mounted:function(){},methods:{},filters:{}},F=M,R=Object(m["a"])(F,N,J,!1,null,"fa2d3270",null),z=R.exports,G={name:"DashboardPage",props:["page","internalAllowed"],components:c()(c()({},a),{},{AllowInternalToggle:B}),data:function(){return{allowInternally:!1,primed:!1}},watch:{"$store.state.localBot.allowInternal":function(t){this.allowInternally=t}},computed:{apikey:function(){return this.$store.state.localBot.apikey},componentName:function(){var t=this.page.charAt(0).toUpperCase()+this.page.slice(1)+"Index";return this.$options.components[t]?t:""}},mounted:function(){this.allowInternally=JSON.parse(this.$store.state.localBot.allowInternal),this.primed=!0},methods:{getProperComponentName:function(){return"DashboardIndex"}},filters:{}},U=G,V=(n("dbd8"),n("089c"),Object(m["a"])(U,g,v,!1,null,"0a08376e",null)),Y=V.exports,H=n("2f62"),W={name:"BotController",props:["serviceDomain"],components:{Spinner:b,DashboardPage:Y},data:function(){return{state:"loading",apikey_input:"",accept:!1}},computed:{isLoggedIn:function(){return this.$store.state.localBot.isLoggedIn}},mounted:function(){var t=this.$store.state.localBot.apikey;this.accept=this.$store.state.localBot.allowInternal||"false",this.accept=JSON.parse(this.accept),t?(this.state="loading",this.fetchInitialBotData(t)):this.state="initial"},methods:c()(c()({},Object(H["b"])("localBot",["externalQuery"])),{},{fetchInitialBotData:function(t){var e=this;this.externalQuery({method:"getMe",save:"botGetMe",apikey:t||this.apikey_input}).then((function(n){n.data.ok&&(e.$store.commit("localBot/setApikey",t||e.apikey_input),e.$store.commit("localBot/setLoggedIn"),e.state="ready")})).catch((function(t){e.$q.notify({type:"negative",message:"API key did not work",position:"bottom-right"}),console.log(t),e.state="initial"}))},onSubmit:function(){this.state="loading",this.fetchInitialBotData()},onReset:function(){window.location.href=""}})},X=W,Z=(n("9008"),n("0378")),tt=n("27f9"),et=n("9c40"),nt=Object(m["a"])(X,l,s,!1,null,"036f213d",null),at=nt.exports;x()(nt,"components",{QForm:Z["a"],QInput:tt["a"],QToggle:k["a"],QBtn:et["a"]});var ot={name:"PageIndex",data:function(){return{}},computed:Object(H["d"])(["localBot"]),mounted:function(){},components:{BotController:at},methods:{}},rt=ot,lt=(n("8b09"),n("9989")),st=Object(m["a"])(rt,o,r,!1,null,"558fbf3d",null);e["default"]=st.exports;x()(st,"components",{QPage:lt["a"]})},9008:function(t,e,n){"use strict";var a=n("16f2"),o=n.n(a);o.a},dbd8:function(t,e,n){"use strict";var a=n("80d9"),o=n.n(a);o.a}}]);