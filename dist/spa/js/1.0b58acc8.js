(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{5776:function(t,e,a){},"5c17":function(t,e,a){},7815:function(t,e,a){"use strict";var n=a("c05b"),o=a.n(n);o.a},"8b09":function(t,e,a){"use strict";var n=a("5c17"),o=a.n(n);o.a},"8b24":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("BotController")],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fullscreen",class:{state:t.state}},[a("Spinner",{attrs:{active:"loading"==t.state}}),t.isLoggedIn?a("div",{key:t.state},["/app"==t.$route.path?a("DashboardPage",{attrs:{page:"dashboard"}}):t._e(),"/app/chat"==t.$route.path?a("DashboardPage",{attrs:{page:"chat"}}):t._e(),"/app/statistics"==t.$route.path?a("DashboardPage",{attrs:{page:"statistics"}}):t._e(),"/app/modules"==t.$route.path?a("DashboardPage",{attrs:{page:"modules"}}):t._e(),"/app/settings"==t.$route.path?a("DashboardPage",{attrs:{page:"settings"}}):t._e()],1):t._e(),t.isLoggedIn?t._e():a("div",{staticClass:"form supercenter"},[a("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[a("h2",[t._v("\n            Enter your API Key\n          ")]),a("p",[t._v("\n            An API Key can be obtained from the official Telegram "),a("a",{attrs:{href:"https://t.me/botfather",target:"_blank"}},[t._v("@botfather")])]),a("q-input",{attrs:{filled:"",label:"API key *",hint:"Your telegram bot API key","lazy-rules":"",rules:[function(t){return!!t||"Please type your key here"}]},model:{value:t.apikey_input,callback:function(e){t.apikey_input=e},expression:"apikey_input"}}),a("q-toggle",{attrs:{unselectable:"",label:"Allow this service to use your key for additional functionality"},on:{input:function(e){return t.$store.commit("localBot/setAllowInternal",t.accept)}},model:{value:t.accept,callback:function(e){t.accept=e},expression:"accept"}}),a("div",[a("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Back",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1)},s=[],i=a("ded3"),r=a.n(i),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loadContainer",class:{active:t.active}},[a("div",{staticClass:"loader"})])},u=[],p={name:"Spinner",props:["active"],data:function(){return{}},computed:{},mounted:function(){},methods:{}},d=p,f=(a("f7d4"),a("2877")),h=Object(f["a"])(d,c,u,!1,null,"6dd83a7c",null),m=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.allowInternally?a("div",[t._v("\n    You're good\n  ")]):t._e(),t.allowInternally?t._e():a("div",[t._v("\n    Please allow this service to use your API key\n  ")]),a("AllowInternalToggle")],1)},b=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-toggle",{attrs:{unselectable:"",value:t.allowInternally,label:"Allow this service to use your key for additional functionality"},on:{input:t.allowInternalChanged}})},v=[],I={name:"AllowInternalToggle",data:function(){return{allowInternally:!1}},watch:{"$store.state.localBot.allowInternal":function(t){this.allowInternally=t}},mounted:function(){this.allowInternally=JSON.parse(this.$store.state.localBot.allowInternal)},methods:{allowInternalChanged:function(t){this.$store.commit("localBot/setAllowInternal",t)}},filters:{}},w=I,_=a("9564"),k=a("eebe"),$=a.n(k),B=Object(f["a"])(w,y,v,!1,null,"dff29a42",null),P=B.exports;$()(B,"components",{QToggle:_["a"]});var A={name:"DashboardPage",props:["page"],components:{AllowInternalToggle:P},data:function(){return{allowInternally:!1}},watch:{"$store.state.localBot.allowInternal":function(t){this.allowInternally=t}},computed:{apikey:function(){return this.$store.state.localBot.apikey}},mounted:function(){this.allowInternally=JSON.parse(this.$store.state.localBot.allowInternal)},methods:{},filters:{}},C=A,D=Object(f["a"])(C,g,b,!1,null,null,null),q=D.exports,x=a("2f62"),O={name:"BotController",props:["serviceDomain"],components:{Spinner:m,DashboardPage:q},data:function(){return{state:"loading",apikey_input:"",accept:!1}},computed:{isLoggedIn:function(){return this.$store.state.localBot.isLoggedIn}},mounted:function(){var t=this.$store.state.localBot.apikey;this.accept=this.$store.state.localBot.allowInternal||"false",this.accept=JSON.parse(this.accept),t?(this.state="loading",this.fetchInitialBotData(t)):this.state="initial"},methods:r()(r()({},Object(x["b"])("localBot",["externalQuery"])),{},{fetchInitialBotData:function(t){var e=this;this.externalQuery({method:"getMe",save:"botGetMe",apikey:t||this.apikey_input}).then((function(a){a.data.ok&&(e.$store.commit("localBot/setApikey",t||e.apikey_input),e.$store.commit("localBot/setLoggedIn"),e.state="ready")})).catch((function(t){e.$q.notify({type:"negative",message:"API key did not work",position:"bottom-right"}),console.log(t),e.state="initial"}))},onSubmit:function(){this.state="loading",this.fetchInitialBotData()},onReset:function(){window.location.href=""}})},S=O,Q=(a("7815"),a("0378")),j=a("27f9"),E=a("9c40"),T=Object(f["a"])(S,l,s,!1,null,"0835bff7",null),J=T.exports;$()(T,"components",{QForm:Q["a"],QInput:j["a"],QToggle:_["a"],QBtn:E["a"]});var L={name:"PageIndex",data:function(){return{}},computed:Object(x["d"])(["localBot"]),mounted:function(){},components:{BotController:J},methods:{}},N=L,K=(a("8b09"),a("9989")),M=Object(f["a"])(N,n,o,!1,null,"558fbf3d",null);e["default"]=M.exports;$()(M,"components",{QPage:K["a"]})},c05b:function(t,e,a){},f7d4:function(t,e,a){"use strict";var n=a("5776"),o=a.n(n);o.a}}]);